<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: public/javascripts/visor_urbanismo_2024/classes/DataReaderSedipualb.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: public/javascripts/visor_urbanismo_2024/classes/DataReaderSedipualb.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Clase para realizar lecturas de datos desde el servicio Sedipualb.
 * @memberof module:Frontend
 */
class DataReaderSedipualb {

  /**
   * Lista las materias disponibles.
   * @param {string} wsseg_user - Nombre de usuario.
   * @param {string} clearPassword - Contraseña.
   * @param {string} idEntidad - Identificador de entidad.
   * @returns {Promise&lt;object>} - Objeto JSON con información de las materias.
   */
  async listMaterias(wsseg_user, clearPassword, idEntidad) {
    const baseUrl = `${window.location.protocol}//${window.location.host}/opg/listMaterias`;
    const params = new URLSearchParams({
      wsseg_user: wsseg_user,
      clearPassword: clearPassword,
      idEntidad: idEntidad,
    });
    const url = new URL(baseUrl);
    url.search = params.toString();
    const dataRequest = { method: "GET" };
    try {
      const response = await fetch(url, dataRequest);
      const info_geojson = await response.json();
      return info_geojson;
    } catch (error) {
      console.error("Error al leer la característica:", error);
    }
  }

  /**
   * Lista las submaterias disponibles para una materia específica.
   * @param {string} wsseg_user - Nombre de usuario.
   * @param {string} clearPassword - Contraseña.
   * @param {string} idEntidad - Identificador de entidad.
   * @param {string} idMateria - Identificador de materia.
   * @returns {Promise&lt;object>} - Objeto JSON con información de las submaterias.
   */
  async listSubmaterias(wsseg_user, clearPassword, idEntidad, idMateria) {
    const baseUrl = `${window.location.protocol}//${window.location.host}/opg/listSubmaterias`;
    const params = new URLSearchParams({
      wsseg_user: wsseg_user,
      clearPassword: clearPassword,
      idEntidad: idEntidad,
      idMateria: idMateria,
    });
    const url = new URL(baseUrl);
    url.search = params.toString();
    const dataRequest = { method: "GET" };
    try {
      const response = await fetch(url, dataRequest);
      const info_geojson = await response.json();
      return info_geojson;
    } catch (error) {
      console.error("Error al leer la característica:", error);
    }
  }

  /**
   * Lista los tipos de procedimiento disponibles para una submateria específica.
   *
   * @param {string} wsseg_user - Nombre de usuario.
   * @param {string} clearPassword - Contraseña.
   * @param {string} idEntidad - Identificador de entidad.
   * @param {string} idSubmateria - Identificador de submateria.
   * @returns {Promise&lt;object>} - Objeto JSON con información de los tipos de procedimiento.
   * @throws {Error} - Lanza un error si hay problemas en la solicitud o procesamiento.
   */
  async listTiposProcedimiento(
    wsseg_user,
    clearPassword,
    idEntidad,
    idSubmateria
  ) {
    const baseUrl = `${window.location.protocol}//${window.location.host}/opg/listTiposProcedimiento`;
    const params = new URLSearchParams({
      wsseg_user: wsseg_user,
      clearPassword: clearPassword,
      idEntidad: idEntidad,
      idSubmateria: idSubmateria,
    });
    const url = new URL(baseUrl);
    url.search = params.toString();
    const dataRequest = { method: "GET" };
    try {
      const response = await fetch(url, dataRequest);
      const info_geojson = await response.json();
      return info_geojson;
    } catch (error) {
      console.error("Error al leer la característica:", error);
    }
  }

  /**
   * Lista los subtipos de procedimiento disponibles para un tipo de procedimiento específico.
   *
   * @param {string} wsseg_user - Nombre de usuario.
   * @param {string} clearPassword - Contraseña.
   * @param {string} idEntidad - Identificador de entidad.
   * @param {string} idProcedimiento - Identificador de tipo de procedimiento.
   * @returns {Promise&lt;object>} - Objeto JSON con información de los subtipos de procedimiento.
   * @throws {Error} - Lanza un error si hay problemas en la solicitud o procesamiento.
   */
  async listSubtiposProcedimiento(
    wsseg_user,
    clearPassword,
    idEntidad,
    idProcedimiento
  ) {
    const baseUrl = `${window.location.protocol}//${window.location.host}/opg/listSubtiposProcedimiento`;
    const params = new URLSearchParams({
      wsseg_user: wsseg_user,
      clearPassword: clearPassword,
      idEntidad: idEntidad,
      idProcedimiento: idProcedimiento,
    });
    const url = new URL(baseUrl);
    url.search = params.toString();
    const dataRequest = { method: "GET" };
    try {
      const response = await fetch(url, dataRequest);
      const info_geojson = await response.json();
      return info_geojson;
    } catch (error) {
      console.error("Error al leer la característica:", error);
    }
  }

  /**
   * Lista los expedientes disponibles en una página específica.
   *
   * @param {string} clearPassword - Contraseña.
   * @param {number} numPage - Número de la página de expedientes a recuperar.
   * @returns {Promise&lt;object>} - Objeto JSON con información de los expedientes.
   * @throws {Error} - Lanza un error si hay problemas en la solicitud o procesamiento.
   */
  async listExpedientes(clearPassword, numPage) {
    const baseUrl = `${window.location.protocol}//${window.location.host}/opg/listExpedientes`;
    const params = new URLSearchParams({
      clearPassword: clearPassword,
      numPage: numPage,
    });
    const url = new URL(baseUrl);
    url.search = params.toString();
    const dataRequest = { method: "GET" };
    try {
      const response = await fetch(url, dataRequest);
      const info_geojson = await response.json();
      return info_geojson;
    } catch (error) {
      console.error("Error al leer la característica:", error);
    }
  }

  /**
   * Lista documentos relacionados con un expediente y una carpeta específicos.
   *
   * @param {string} clearPassword - Contraseña.
   * @param {string} pkEntidad - Clave primaria de la entidad.
   * @param {string} codigoExpediente - Código del expediente.
   * @param {string} pkCarpetaPadre - Clave primaria de la carpeta padre.
   * @param {string} nifUsuario - Número de identificación fiscal del usuario.
   * @returns {Promise&lt;object>} - Objeto JSON con información de los documentos.
   * @throws {Error} - Lanza un error si hay problemas en la solicitud o procesamiento.
   */
  async listarDocumentosV2(
    clearPassword,
    pkEntidad,
    codigoExpediente,
    pkCarpetaPadre,
    nifUsuario
  ) {
    const baseUrl = `${window.location.protocol}//${window.location.host}/opg/listarDocumentosV2`;
    const params = new URLSearchParams({
      clearPassword: clearPassword,
      pkEntidad: pkEntidad,
      codigoExpediente: codigoExpediente,
      pkCarpetaPadre: pkCarpetaPadre,
      nifUsuario: nifUsuario,
    });
    const url = new URL(baseUrl);
    url.search = params.toString();
    const dataRequest = { method: "GET" };
    try {
      const response = await fetch(url, dataRequest);
      const info_geojson = await response.json();
      return info_geojson;
    } catch (error) {
      console.error("Error al leer la característica:", error);
    }
  }

  /**
   * Lista carpetas relacionadas con un expediente y una carpeta padre específicos.
   *
   * @param {string} wsseg_user - Usuario de seguridad.
   * @param {string} clearPassword - Contraseña.
   * @param {string} pkEntidad - Clave primaria de la entidad.
   * @param {string} codigoExpediente - Código del expediente.
   * @param {string} pkCarpetaPadre - Clave primaria de la carpeta padre.
   * @returns {Promise&lt;object>} - Objeto JSON con información de las carpetas.
   * @throws {Error} - Lanza un error si hay problemas en la solicitud o procesamiento.
   */
  async listarCarpetasV2(
    wsseg_user,
    clearPassword,
    pkEntidad,
    codigoExpediente,
    pkCarpetaPadre,
  ) {
    const baseUrl = `${window.location.protocol}//${window.location.host}/opg/listarCarpetasV2`;
    const params = new URLSearchParams({
      wsseg_user: wsseg_user,
      clearPassword: clearPassword,
      pkEntidad: pkEntidad,
      codigoExpediente: codigoExpediente,
      pkCarpetaPadre: pkCarpetaPadre,
    });
    const url = new URL(baseUrl);
    url.search = params.toString();
    const dataRequest = { method: "GET" };
    try {
      const response = await fetch(url, dataRequest);
      const info_geojson = await response.json();
      return info_geojson;
    } catch (error) {
      console.error("Error al leer la característica:", error);
    }
  }

  /**
   * Obtiene información sobre un documento específico.
   *
   * @param {string} wsseg_user - Usuario de seguridad.
   * @param {string} clearPassword - Contraseña.
   * @param {string} pk_entidad - Clave primaria de la entidad.
   * @param {string} pkDocumento - Clave primaria del documento.
   * @returns {Promise&lt;object>} - Objeto JSON con información del documento.
   * @throws {Error} - Lanza un error si hay problemas en la solicitud o procesamiento.
   */
  async obtenerInfoDocumento(
    wsseg_user,
    clearPassword,
    pk_entidad,
    pkDocumento,
  ) {
    const baseUrl = `${window.location.protocol}//${window.location.host}/opg/obtenerInfoDocumento`;
    const params = new URLSearchParams({
      wsseg_user: wsseg_user,
      clearPassword: clearPassword,
      pk_entidad: pk_entidad,
      pkDocumento: pkDocumento,
    });
    const url = new URL(baseUrl);
    url.search = params.toString();
    const dataRequest = { method: "GET" };
    try {
      const response = await fetch(url, dataRequest);
      const info_geojson = await response.json();
      return info_geojson;
    } catch (error) {
      console.error("Error al leer la característica:", error);
    }
  }

  /*
   async listEntites(hashedPassword) {
    const baseUrl = `${window.location.protocol}//${window.location.host}/opg/listEntities`;
    const params = new URLSearchParams({
      hashedPassword: hashedPassword,
    });
    const url = new URL(baseUrl);
    url.search = params.toString();
    const dataRequest = { method: "GET" };
    try {
      const response = await fetch(url, dataRequest);

      const info_geojson = await response.json();

      return info_geojson;
    } catch (error) {
      console.error("Error al leer la característica:", error);
    }
  }
  */
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-Frontend.html">Frontend</a></li><li><a href="module-Router.html">Router</a></li></ul><h3>Namespaces</h3><ul><li><a href="SedipualbaController.html">SedipualbaController</a></li><li><a href="VisorController.html">VisorController</a></li></ul><h3>Classes</h3><ul><li><a href="module-Frontend.Asistente.html">Asistente</a></li><li><a href="module-Frontend.DataReader.html">DataReader</a></li><li><a href="module-Frontend.DataReaderSedipualb.html">DataReaderSedipualb</a></li><li><a href="module-Frontend.FeatureUrbanistic.html">FeatureUrbanistic</a></li><li><a href="module-Frontend.Form_CATALOGO_PGOU98.html">Form_CATALOGO_PGOU98</a></li><li><a href="module-Frontend.Form_PARAMETROS_CALIFICACIONES_PRI.html">Form_PARAMETROS_CALIFICACIONES_PRI</a></li><li><a href="module-Frontend.Form_PARAMETROS_EQ_PGOU98.html">Form_PARAMETROS_EQ_PGOU98</a></li><li><a href="module-Frontend.Form_PARAMETROS_RSD_PGOU98.html">Form_PARAMETROS_RSD_PGOU98</a></li><li><a href="module-Frontend.Form_PARAMETROS_SEC_PGOU98.html">Form_PARAMETROS_SEC_PGOU98</a></li><li><a href="module-Frontend.Form_PARAMETROS_TER_PGOU98.html">Form_PARAMETROS_TER_PGOU98</a></li><li><a href="module-Frontend.Form_PARAMETROS_VE_PGOU98.html">Form_PARAMETROS_VE_PGOU98</a></li><li><a href="module-Frontend.Form_SISTEMAS_PG2023.html">Form_SISTEMAS_PG2023</a></li><li><a href="module-Frontend.Form_SISTEMAS_PGOU98.html">Form_SISTEMAS_PGOU98</a></li><li><a href="module-Frontend.Form_SISTEMAS_PRI.html">Form_SISTEMAS_PRI</a></li><li><a href="module-Frontend.Form_UNIDAD_EJECUCION_PGOU98.html">Form_UNIDAD_EJECUCION_PGOU98</a></li><li><a href="module-Frontend.Form_UNIDAD_EJECUCION_PRI.html">Form_UNIDAD_EJECUCION_PRI</a></li><li><a href="module-Frontend.I18nHandler.html">I18nHandler</a></li><li><a href="module-Frontend.MapLayer.html">MapLayer</a></li><li><a href="module-Frontend.MapLayers.html">MapLayers</a></li><li><a href="module-Frontend.MapLayersVisor.html">MapLayersVisor</a></li><li><a href="module-Frontend.MapManager.html">MapManager</a></li><li><a href="module-Frontend.MapQuery.html">MapQuery</a></li><li><a href="module-Frontend.NormativaDialog.html">NormativaDialog</a></li><li><a href="module-Frontend.QueryDialog.html">QueryDialog</a></li><li><a href="module-Frontend.QueryDialogEXP.html">QueryDialogEXP</a></li><li><a href="module-Frontend.QueryDialogEXP_Planeamiento.html">QueryDialogEXP_Planeamiento</a></li><li><a href="module-Frontend.QueryDialogPG2023.html">QueryDialogPG2023</a></li><li><a href="module-Frontend.QueryDialogPGOU98.html">QueryDialogPGOU98</a></li><li><a href="module-Frontend.QueryDialogPRI.html">QueryDialogPRI</a></li><li><a href="module-Frontend.SIGDUMap.html">SIGDUMap</a></li><li><a href="module-Frontend.Sedipualb.html">Sedipualb</a></li><li><a href="module-Frontend.TOC.html">TOC</a></li></ul><h3>Global</h3><ul><li><a href="global.html#mainApp">mainApp</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Sat Dec 16 2023 19:01:33 GMT+0100 (hora estándar de Europa central)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
